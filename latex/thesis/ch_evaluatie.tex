\chapter{Evaluatie}
\label{ch:evaluatie}

In dit hoofdstuk beschrijven we een experiment ter evaluatie van het framework. We controleren of de grammatica uit hoofdstuk~\ref{ch:grammatica} (opgesteld op basis van tien puzzels uit \cite{logigrammen}) gebruikt kan worden om nieuwe logigrammen te parsen. Anderzijds is de vraag of de type-inferentie beschreven in hoofdstuk~\ref{ch:types} genoeg is om logigrammen op te lossen. Kunnen we op basis van het principe van één type per woord en een aantal taalkundige ja-nee-vragen de juiste types achterhalen?

\section{Experiment}
Het experiment bestaat eruit om een grammatica op te stellen op basis van de eerste tien puzzels uit Puzzle Baron's Logic Puzzles Volume 3 \cite{logigrammen}. Het resultaat is te vinden in hoofdstuk~\ref{ch:grammatica}. Vervolgens passen we dit toe op de volgende tien puzzels uit hetzelfde boekje. Met dit experiment willen we een aantal vragen beantwoorden:

\begin{enumerate}
  \item Is de grammatica van een logigram beperkt (binnen hetzelfde boekje, met name Puzzle Baron's Logic Puzzles Volume 3 \cite{logigrammen})? M.a.w. moeten er aanpassingen gebeuren aan de puzzels in de testset om gevat te kunnen worden door de grammatica? Zo ja, hoeveel aanpassingen zijn er nodig en wat voor aanpassingen? Zijn het eerder kleine herschrijvingen of moeten de zinnen volledig anders geformuleerd worden? Is het überhaupt mogelijk om elke logigram te herschrijven?
  \item Kunnen we op basis van het principe van één type per woord en een aantal taalkundige ja-nee-vragen de juiste types achterhalen?
  \item Werkt het framework zoals beschreven in deze thesis voor het oplossen van logigrammen? Hoeveel logigrammen kunnen we oplossen? En indien we ze niet kunnen oplossen, waarom niet?
\end{enumerate}

Een belangrijke opmerking bij de eerste vraag is dat de grammatica opgesteld wordt op basis van 10 logigrammen. Daardoor is de grammatica niet per se makkelijk te leren. De grammatica is namelijk zo complex als de eerste 10 puzzels samen. Bovendien is het niet per se erg als er aanpassingen moeten gebeuren aan de zinnen uit de testset. Dit wil vooral zeggen dat het boekje geen gestructureerde grammatica volgt. De belangrijkste vraag is vooral of het mogelijk is om elke logigram te hervormen zodanig dat het framework de puzzel kan oplossen.
 
\section{Trainingset}
\todo[inline]{Een IDP-file? Of in de appendix?}
De trainingset bestaat uit de tien eerste puzzels uit Puzzle Baron's Logic Puzzles Volume 3 \cite{logigrammen}. Bij het opstellen van de grammatica proberen we de puzzels zo weinig mogelijk aan te passen. Dit is echter niet altijd mogelijk. We bespreken de aanpassingen die we doen aan de trainingset en de reden hiervoor.

\subsection{Logigram 4}
De eerste logigram die aangepast wordt, is logigram 4. In drie van de tien zinnen staan overbodige tijdsaanduidingen:

\begin{itemize}
  \item Of Lonnie and the person from Frenchboro, one is \underline{now} with the Dodgers and the other graduated in 2005
  \item Lonnie \underline{currently} plays for the Mariners
  \item The five players are the person from Frenchboro; Ivan; and the three players \underline{currently} with the Indians Mariners and Giants
\end{itemize}

De laatste zin bevat bovendien nog een moeilijke opsomming om te verwerken. Hier komt namelijk een distributieve lezing van ``the three players'' aan te pas. Deze zin is daarom herschreven naar ``The five players are the person from Frenchboro, Ivan, the player with the Indians, the person with the Mariners and the graduate that plays for the Giants'' 

\subsection{Logigram 6}
Ook logigram 6 bevat zo'n distributieve lezing. Bovendien is het deze keer in een ``Of ... and ..., one ... and the other ...'' constructie. Namelijk ``Of the two dogs who graduated in March and April, one went to Tanager County and the other was assigned to Officer Ingram''. Ook deze zin is herschreven. In dit geval naar ``Of the dog who graduated in March and the dog who graduated in April, one went to Tanager County and the other was assigned to Officer Ingram''

\subsection{Logigram 7}
Logigram 7 heeft een vrij andere grammatica dan alle andere logigrammen. Bovendien overtreedt het een aantal veronderstellingen die we gebruiken voor het vertalen van de zinnen naar logica. De logigram ziet er uit als volgt:
\begin{enumerate}
  \item The Norwegian's birthday is May 18
  \item Of Bill and the traveler born on June 14, one is from Norway and the other is from Canada
  \item Izzy's birthday is 1 month after the politician's
  \item The engineer is from France
  \item The South African's birthday is in either April or May
  \item The musician's birthday isn't in April
  \item Jeffrey is either French or South African
  \item The Canadian's birthday is 1 month after the surgeon's
  \item Harry's birthday is sometime before Bill's
\end{enumerate}

\paragraph{} Zo gebruikt men meerdere eigennamen voor hetzelfde domeinelement (bv. ``France'' en ``French''). Bovendien zijn er 3 domeinen die door elkaar gebruikt kunnen worden. Met name de nationaliteit, de naam en het beroep van een persoon. Ten slotte zijn er niet veel werkwoorden of voorzetsels. Dit maakt het vrij moeilijk om automatisch types af te leiden zonder aan de gebruiker te vragen of twee woorden van hetzelfde type zijn.

\paragraph{} De logigram kan wel herschreven worden om binnen het framework te passen. De zinnen liggen echter soms vrij ver af van het origineel. De nationaliteit wordt altijd aangegeven met de naam van het land. Bovendien introduceren we een werkwoord ``acting as'' als een soort van \textit{type cast} tussen een beroep en een persoon. Ten slotte wordt het koppelwerkwoord vervangen door een echt werkwoord.

\begin{enumerate}
  \item The traveler from Norway is born in May
  \item Of Bill and the traveler born in June, one is from Norway and the other is from Canada
  \item Izzy is born 1 month after the traveler acting as politician
  \item The traveler acting as engineer is from France
  \item The traveler from South Africa is born in either April or May
  \item The musician's birthday isn't in April
  \item Jeffrey is from either France or South Africa
  \item The traveler from Canada is born 1 month after the traveler acting as surgeon
  \item Harry is born sometime before Bill
\end{enumerate}

\subsection{Logigram 8}
Logigram 8 is simpeler. Er zijn drie soorten aanpassingen die we doen.

\begin{enumerate}
  \item We vervangen een adjectief door een voorzetselconstituent: ``... the other was orange'' wordt ``... the other was \underline{in} orange''.
  \item In de twee zinnen met een vergelijking is de woordvolgorde een beetje anders. ``The orange item required 5 fewer minutes to print than the yellow design'' wordt ``The orange item required 5 minutes fewer than the yellow design to print''
  \item ``just'' wordt verwijderd in ``Of the whistle and the blue piece, one took 30 minutes to print and the other took \underline{just} 10''
\end{enumerate}

\subsection{Logigram 9}
Logigram 9 bevat een aantal bijzinnen tussen haakjes. Deze worden gepromoveerd tot hoofdzinnen. Bijvoorbeeld ``Opal (who isn't 20 years old) is scheduled 2 hours after Harold'' wordt ``Opal isn't 20 years old and is scheduled 2 hours after Harold''.

Daarnaast bevat logigram 9 een superlatief, namelijk ``Elmer isn't the youngest student''. Dit zou een nieuwe lexicale categorie kunnen zijn. Het is echter moeilijk om hier ook het juiste type van af te leiden. Er is gekozen om superlatieven te verbieden omdat binnen logigrammen dit altijd herschreven kan worden naar de juiste waarde. Deze zin wordt dan ``Elmer isn't 15 years old''.

\subsection{Logigram 10}
Logigram 10 heeft twee problemen. Enerzijds wordt er gebruik gemaakt van kommagetallen. Anderzijds is er niet voldaan aan het principe van één type per woord.

Aangezien de onderliggende tool IDP geen kommagetallen aankan, ondersteunen we deze ook niet in de grammatica. We passen de zinnen aan. We tellen daarvoor bij de kommagetallen (bv. ``\$6.99'') 0,01 op (tot bv. ``\$7''). Dit maakt geen verschil voor de logigram. Er wordt enkel gekeken naar de verschillen tussen twee getallen, die blijven met deze truk dezelfde.

Het werkwoord ``to order'' wordt in deze logigram gebruikt voor zowel het bestellen van pasta als de saus die erbij hoort. Daarom passen we één voorkomen van ``to order'' aan naar ``to choose'', zodanig dat ``to order'' enkel voor het bestellen van de pastasoort is en ``to choose'' enkel voor het kiezen van de bijhorende saus.

\section{Testset}
De testset bestaat uit de volgende tien logigrammen uit Puzzle Baron's Logic Puzzles Volume 3 \cite{logigrammen}. Geen enkele logigram is vertaalbaar zonder wijzigingen uit te voeren aan de zinnen van de logigram. We bespreken de verschillende logigrammen en wat er aangepast moet worden om te vallen onder de grammatica van de trainingset. Daarbij minimaliseren we het aantal beperking en hoe groot deze moeten zijn. 

\subsection{Logigram 11: 1 aanpassing}
Tabel~\ref{tbl:log11} geeft een overzicht van de aanpassing aan logigram 11. Één zin werd herschreven van de passieve vorm naar de actieve vorm. Voor de rest past de logigram volledig binnen de grammatica van de testset.

Het type-systeem kan het domein van de sectoren van de aandelen wel niet achterhalen zonder op een vraag van de vierde soort terug te vallen. Namelijk een vraag of twee elementen tot hetzelfde domein behoren. Alle sectoren komen namelijk voor in naamwoordgroepen met een onbekende relatie (``the health-care sector'', ``the energy stock'', ...).

\begin{table}[h]
  \centering
  \begin{tabular}{p{0.2\linewidth}p{0.3\linewidth}p{0.3\linewidth}c}
    \toprule
    \textbf{Probleem} & \textbf{Origineel} & \textbf{Aangepast} & \textbf{Aantal} \\ 
    \hline
    Passieve zin & The financial stock wasn't purchased by Edith & Edith didn't purchase the financial stock & 1\\
    \bottomrule
  \end{tabular}
  \caption{Een overzicht van de aanpassing aan logigram 11}
  \label{tbl:log11}
\end{table}

\subsection{Logigram 12: 5 aanpassingen}
Tabel~\ref{tbl:log12} geeft een overzicht van de aanpassingen aan logigram 12. In drie zinnen kwamen kommagetallen voor i.p.v. gehele getallen, net zoals in logigram 10 uit de trainingset. Dit is niet echt een probleem met de grammatica maar eerder met de onderliggende tool.

Daarnaast vervangen we een werkwoord door een ander werkwoord uit de logigram omdat aan het principe van één type per (werk)woord anders niet is voldaan.

Ten slotte passen we ``the one'' aan naar een naamwoordgroep met een echt substantief. ``The one'' is een grammaticale structuur waarbij ``one'' verwijst naar een substantief dat eerder in de zin komt. Dit kwam niet voor in de trainingset. Dit probleem had ook opgelost kunnen worden door ``one'' als substantief toe te voegen aan het lexicon. Dit zou echter geen correcte evaluatie zijn van de opgestelde grammatica.

\begin{table}[h]
  \centering
  \begin{tabular}{p{0.2\linewidth}p{0.3\linewidth}p{0.3\linewidth}c}
    \toprule
    \textbf{Probleem} & \textbf{Origineel} & \textbf{Aangepast} & \textbf{Aantal} \\ 
    \hline
    Kommagetallen & Homer paid \textbf{\$6.99} & Homer paid \textbf{\$7} & 3 \\
    \hline
    Werkwoord heeft fout type & Glen paid \$3 less than whoever \textbf{had} the sloppy joe & Glen paid \$3 less than whoever \textbf{ordered} the sloppy joe & 1 \\
    \hline
    ``the one'' & The order with lemonade cost \$1 more than \textbf{the one} with the water & The order with the lemonade cost \$1 more than \textbf{the order} with the water & 1 \\
    \bottomrule
  \end{tabular}
  \caption{Een overzicht van de aanpassingen aan logigram 12}
  \label{tbl:log12}
\end{table}

\subsection{Logigram 13: 3 aanpasssingen}
Tabel~\ref{tbl:log13} geeft een overzicht van de aanpassingen aan logigram 13. Er is opnieuw één zin met ``the one''. Daarnaast is er nog één zin die twee fouten bevat. Enerzijds is er een constructie waarbij het voegwoord op een nieuwe plaats voorkomt. Anderzijds wordt er het koppelwerkwoord op een nieuwe manier gebruikt. Er zijn twee manieren om de zin te herschrijven. Bij de manier die aangegeven is in de tabel kan het type-systeem alle types achterhalen zonder te moeten terugvallen op een vraag van de vierde soort. Namelijk een vraag die stelt of twee domeinelementen tot hetzelfde domein behoren. De aanpassing die dichter bij het origineel licht is ``...one is Hermans's puppet...''.

\begin{table}[h]
  \centering
  \begin{tabular}{p{0.2\linewidth}p{0.3\linewidth}p{0.3\linewidth}c}
    \toprule
    \textbf{Probleem} & \textbf{Origineel} & \textbf{Aangepast} & \textbf{Aantal} \\ 
    \hline
    ``the one'' & The puppet going to Ypsilanti cost \$250 more than \textbf{the one} going to St. Moritz & The puppet going to Ypsilanti cost \$250 more than \textbf{the puppet} going to St. Moritz & 1 \\
    \hline
    Foute structuur naamwoordgroep & Of \textbf{the \$1000 and \$1250 dummies}, one is Herman's and the other is going to Mexico city & Of \textbf{the \$1000 dummy and the \$1250 dummy}, one is Herman's and the other is going to Mexico city & 1 \\
    \hline
    Fout gebruik koppelwerkwoord & Of the \$1000 dummy and the \$1250 dummy, one \textbf{is Herman's} and the other is going to Mexico city & Of the \$1000 dummy and the \$1250 dummy, one \textbf{is from Herman} and the other is going to Mexico city & 1 \\
    \bottomrule
  \end{tabular}
  \caption{Een overzicht van de aanpassingen aan logigram 13}
  \label{tbl:log13}
\end{table}

\subsection{Logigram 14: 13 aanpassingen}
Tabel~\ref{tbl:log14} geeft een overzicht van de aanpassingen aan logigram 14. Er zinnen twee zinnen met ``the one''. Daarnaast is er een domeinelement dat twee keer voorkomt maar in verschillende vormen. Één keer als ``monk's fin shell'' en één keer als ``monk's fin''. We passen één van de twee aan om dezelfde structuur te hebben.

In deze logigram zijn de kleuren adjectieven (zonder adjectiefconstituent). Dit wordt niet ondersteund in de grammatica. We beschouwen de adjectieven daarom als eigennamen en voegen telkens een voorzetsel toe om er een voorzetselconstituent van te maken.

Ten slotte wordt het werkwoord ``found in'' zowel gebruikt voor het jaartal als de plaats waar een schelp gevonden is. Dit is in strijd met het principe van één type per (werk)woord. We gebruiken daarom het werkwoord ``discovered in'' voor een plaats en ``found in'' voor een jaartal. In totaal zijn dit 5 aanpassingen.

\begin{table}[h]
  \centering
  \begin{tabular}{p{0.2\linewidth}p{0.3\linewidth}p{0.3\linewidth}c}
    \toprule
    \textbf{Probleem} & \textbf{Origineel} & \textbf{Aangepast} & \textbf{Aantal} \\ 
    \hline
    ``the one'' & The baby's ear shell was found 3 years before \textbf{the one} from Jamaica & The baby's ear shell was found 3 years before \textbf{the shell} from Jamaica & 2 \\
    \hline
    Dubbele vorm domeinelement & The shell found in 2001 is either the monk's fin or the coquina & The shell found in 2001 is either the monk's fin \textbf{shell} or the coquina & 1 \\
    \hline
    Fout gebruik koppelwerkwoord & The seashell found in Puerto Rico \textbf{isn't black and white} & The seashell found in Puerto Rico \textbf{isn't in black and white} & 5 \\
    \hline
    Werkwoord heeft fout type & The seashell \textbf{found} in Puerto Rico isn't in black and white & The seashell \textbf{}discovered in Puerto Rico isn't in black and white & 5 \\ 
    \bottomrule
  \end{tabular}
  \caption{Een overzicht van de aanpassingen aan logigram 14}
  \label{tbl:log14}
\end{table}

\subsection{Logigram 15}
\subsection{Logigram 16}
\subsection{Logigram 17}
\subsection{Logigram 18}
\subsection{Logigram 19}
\subsection{Logigram 20}

% \subsection{Een analyse van de fouten}
% \subsection{Een analyse van het aantal vragen}

\section{Conclusie}
