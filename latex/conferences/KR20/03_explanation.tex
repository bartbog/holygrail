% !TeX root = ./workshop_paper.tex
Ideally, we could generate all explanations of each fact in $max(I_0,\allconstraints)$, and search for the lowest scoring sequence among those explanations. 
However, the number of explanations for each fact quickly explodes with the number of constraints, and is hence not feasible to compute.
Instead, we will iteratively construct the sequence, by generating candidates for a given partial interpretation and searching for the smallest one among those.

\begin{algorithm}[ht]
    $I_{end} \gets$ propagate$(I_0\land \allconstraints)$\;
    $Seq \gets$ empty sequence\;
    $I \gets I_0$\;
    \While{$I \neq I_{end}$}{
    $(E, S, N) \gets $min-explanation$(I, \allconstraints)$\;
    {\color{gray}
    $nested \gets$ nested-explanations$(E, S, N)$\;
      append $((E, S, N),nested)$ to $Seq$\;
    }
    $I \gets I \cup N$\;
    }
    \caption{greedy-explain$(I_0,$ $\allconstraints)$}
    \label{alg:nested-main}
  \end{algorithm}